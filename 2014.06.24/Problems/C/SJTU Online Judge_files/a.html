<html><head><style>   body { font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif; }</style><meta content="no-cache" http-equiv="Pragma"><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><meta content="en-US" http-equiv="Content-Language"><title>2275 -- Flipping Pancake</title><style type="text/css">A {	TEXT-TRANSFORM: none; TEXT-DECORATION: none } A:hover { COLOR: red; TEXT-DECORATION: underline } A.s { TEXT-TRANSFORM: none; TEXT-DECORATION: none;	color:black; } A.s:hover {	COLOR: white; TEXT-DECORATION: none; } A.s0 { TEXT-TRANSFORM: none; TEXT-DECORATION: none;  color:#FFFF99;	font-weight:bold; } A.s0:hover { TEXT-DECORATION: underline; color:#FFFF99;	font-weight:bold; } A.t { TEXT-DECORATION: none; color:#FFFF66; } A.t:hover {	color:#FFFF66; text-decoration: underline; } A.x { TEXT-DECORATION: none; color:white; font-weight:bold;} A.x:hover {	color:#FFFF66; text-decoration: underline; font-weight:bold;} A.bt { padding:2px 3px 2px 3px; margin: 0px; height: 20px; color:blue; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:12px;} A.bt:hover {background-color:#E6E6E6; padding:1px 2px; margin: 0px; border: 1px solid #999; height: 20px; color:#000066; text-decoration: none; cursor: hand;} div.sd1 { position:absolute; left:0px} div.sd2 { position:absolute; right:0px} div.ptt { text-align:center; font-family:Arial,Helvetica,sans-serif; font-size:18pt; font-weight:bold; color:blue;} div.plm { text-align:center; font-family:Arial,Helvetica,sans-serif; font-size:12pt;} div.ptx { font-family:"Times New Roman",Times,serif; font-size:12pt;} p.pst { text-align:left; font-family:Arial,Helvetica,sans-serif; font-size:18pt; font-weight:bold; color:blue;} pre.sio { font-family:Courier New,Courier,monospace; font-size:12pt;} th.h {color:#FFFFFF; font-family:Arial, Helvetica, sans-serif; width:20%;} td.h { font-family:Arial, Helvetica, sans-serif; } th.in {color:#FFFFFF; text-align:center; background-color:#6589d1; border-color:#FFFFFF; font-family:Arial, Helvetica, sans-serif; font-weight:bold; } table.a {background-image:url('images/table_back.jpg'); border-collapse:collapse; font-family:"Times New Roman", Times, serif; } table.h1 {border-collapse:collapse; width:100%; background-color:#BECEF1; border-width:0px;} table.h2 {width:100%; background:url('images/bar.jpg') repeat-y; border-width:0px;} tr.in {color:#FFFFFF; text-align:center; background-color:#6589d1; font-family:Arial, Helvetica, sans-serif; font-weight:bold; } tr.h { background-color:#6589d1; vertical-align:top; color:#FFFFFF; font-family:Arial, Helvetica, sans-serif; } span.b1 {color:#6589D1; font-weight:bold; font-size:x-small } span.b2 {color:gray; font-size:x-small } span.n1 {color:red; font-size:x-small } ul.v {filter:Alpha(opacity=100); overflow:hidden; } table.survey {border-collapse:collapse; font-family:"Times New Roman", Times, serif;}
.stdft { font-family:"Times New Roman", Times, serif; } span.h_txt { color: blue; } span.h_award { color: red; }  span.h_nocontest { color: #1a5cc8; }  span.h_contest { color: red;} 
</style></head><body leftmargin="5" onkeydown="KeyDown(event)" alink="blue" lang="en-US" link="blue" vlink="blue"><a name="top"></a><marquee behavior="ALTERNATE" scrollamount="3" scrolldelay="150"><font color="red">北京大学暑期课：<a href="http://acm.pku.edu.cn/summerschool/pku_acm_train.htm">《ACM/ICPC竞赛训练》</a>面向全球招生</font></marquee><table border="0" background="a_data/table_back.html" width="100%"><tbody><tr><td>
<div class="ptt" lang="en-US">Flipping Pancake</div>
<div class="plm"><table align="center"><tbody><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 65536K</td></tr></tbody></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">We
 start with a stack n of pancakes of distinct sizes. The problem is to 
convert the stack to one in which the pancakes are in size order with 
the smallest on the top and the largest on the bottom. To do this, we 
are allowed to flip the top k pancakes over as a unit (so the k-th 
pancake is now on top and the pancake previously on top is now in the 
k-th position). 
<br> <br>For example: 
<br><center><img src="a_data/2275_1.jpg"></center> <br>This problem is 
to write a program, which finds a sequence of at most (2n - 3) flips, 
which converts a given stack of pancakes to a sorted stack. 
<br></div><p class="pst">Input</p><div class="ptx" lang="en-US">Each 
line of the input gives a separate data set as a sequence of numbers 
separated by spaces. The first number on each line gives the number, N, 
of pancakes in the data set. The input ends when N is 0 (zero) with no 
other data on the line. The remainder of the data set are the numbers 1 
through N in some order giving the initial pancake stack. 
<br> <br>The numbers indicate the relative sizes of the pancakes. N will be, at most, 30. </div><p class="pst">Output</p><div class="ptx" lang="en-US">For
 each data set, the output is a single-space separated sequence of 
numbers on a line. The first number on each line, K, gives the number of
 flips required to sort the pancakes. This number is followed by a 
sequence of K numbers, each of which gives the number of pancakes to 
flip on the corresponding sorting step. There may be several correct 
solutions for some datasets. For instance 3 3 2 3 is also a solution to 
the first problem below. </div><p class="pst">Sample Input</p><pre class="sio">3 1 3 2
5 4 3 2 5 1
0
</pre><p class="pst">Sample Output</p><pre class="sio">3 2 3 2
3 3 4 5
</pre></td></tr></tbody></table>
<p></p>
</body></html>